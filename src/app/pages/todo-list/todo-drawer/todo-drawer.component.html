<!-- Overlay -->
<div class="fixed inset-0 bg-black bg-opacity-40 z-40" (click)="onClose()"></div>

<!-- Drawer -->
<div class="fixed top-0 right-0 w-96 h-full bg-white shadow-2xl z-50 transform animate-slide-in rounded-l-3xl">

    <!-- Header -->
    <div class="p-6 flex justify-between items-center border-b">
        <h2 class="text-2xl font-bold text-indigo-600">
            {{ existingTask ? 'Edit Task' : 'Add Task' }}
        </h2>
        <button (click)="onClose()" class="text-gray-500 hover:text-gray-800 text-2xl font-semibold transition">
            âœ•
        </button>
    </div>

    <!-- Form -->
    <form (ngSubmit)="onSubmit()" class="p-6 space-y-6">

        <!-- Title -->
        <div>
            <label class="block text-gray-700 font-medium mb-2">Title</label>
            <input type="text" [(ngModel)]="formData.title" name="title" required
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition shadow-sm" />
        </div>

        <!-- Description -->
        <div>
            <label class="block text-gray-700 font-medium mb-2">Description</label>
            <textarea [(ngModel)]="formData.description" name="description" rows="4"
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition shadow-sm"></textarea>
        </div>

        <!-- Status -->
        <div>
            <label class="block text-gray-700 font-medium mb-2">Status</label>
            <select [(ngModel)]="formData.status" name="status"
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition shadow-sm">
                <option value="Pending">Pending</option>
                <option value="In Progress">In Progress</option>
                <option value="Complete">Complete</option>
                <option value="On Hold">On Hold</option>
            </select>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-end gap-2">
            <button type="button" (click)="onClose()" class="px-4 py-2 rounded border">Cancel</button>
            <button type="submit"
                class="bg-indigo-600 w-full text-white py-3 rounded-xl hover:bg-indigo-700 transition font-semibold shadow-lg">
                {{ existingTask ? 'Update Task' : 'Add Task' }}
            </button>
        </div>
    </form>
</div>